A 'git-subrepo' Debian packaging project:
=========================================

It uses 'git-subrepo' to bring content into the 'src' subdirectory of
this packaging project.

Howto - test builds (UNRELEASED):
---------------------------------
1. Set required content version.
i.e.: $ git subrepo clone https://github.com/ingydotnet/git-subrepo.git src -b 0.4.1

2. Edit the debian/{changelog, ...) files and run 'debuild' from packaging
project top directory.

3. Inspect /test results from the parent directory.

4. Commit / push chages, when happy.

Ubuntu - focal build (RELEASED):
---------------------------------
Prepared debian files:
- debian/changelog
- debian/compat
- debian/control

Run ubuntu:focal-git-subrepo-devel container:

$ docker run --rm \
-u $(id -u ${USER}):$(id -g ${USER}) \
-v /etc/passwd:/etc/passwd:ro \
-v /etc/group:/etc/group:ro \
-v /etc/shadow:/etc/shadow:ro \
-v /etc/sudoers:/etc/sudoers:ro \
-v ${HOME}:${HOME} \
-w ${HOME} \
-it ubuntu:focal-git-subrepo-devel
samo@9789e1d58e8d:~$ 

samo@9789e1d58e8d:~$ cd GIT-SUBREPO/git-subrepo-debian/
samo@9789e1d58e8d:~/GIT-SUBREPO/git-subrepo-debian$ 

samo@9789e1d58e8d:~/GIT-SUBREPO/git-subrepo-debian$ debuild -S -uc -us
 dpkg-buildpackage -rfakeroot -d -us -uc -S
dpkg-buildpackage: source package git-subrepo
dpkg-buildpackage: source version 0.4.1~x
dpkg-buildpackage: source distribution focal
dpkg-buildpackage: source changed by Samo Pogaƒçnik <samo_pogacnik@t-2.net>
 dpkg-source --before-build git-subrepo-debian
 fakeroot debian/rules clean
dh clean  
   dh_testdir
   dh_auto_clean
   dh_clean
 dpkg-source -b git-subrepo-debian
dpkg-source: info: using source format '3.0 (native)'
dpkg-source: info: building git-subrepo in git-subrepo_0.4.1~x.tar.xz
dpkg-source: info: building git-subrepo in git-subrepo_0.4.1~x.dsc
 dpkg-genchanges -S >../git-subrepo_0.4.1~x_source.changes
dpkg-genchanges: including full source code in upload
 dpkg-source --after-build git-subrepo-debian
dpkg-buildpackage: source-only upload: Debian-native package
Now running lintian...
W: git-subrepo source: package-needs-versioned-debhelper-build-depends 10
W: git-subrepo source: newer-standards-version 4.1.4 (current is 3.9.7)
Finished running lintian.
samo@9789e1d58e8d:~/GIT-SUBREPO/git-subrepo-debian$ 
samo@9789e1d58e8d:~/GIT-SUBREPO/git-subrepo-debian$ exit
$

Upload to launchpad:
GIT-SUBREPO$ debsign git-subrepo_0.4.1~x_source.changes
GIT-SUBREPO$ dput -f ppa:spog/ppa-focal git-subrepo_0.4.1~x_source.changes

Add PPA containing 'git-subrepo' package:
$ sudo add-apt-repository ppa:spog/ppa-focal
$ sudo apt-get update

Install 'git-subrepo' DEB using APT:
$ sudo apt update
$ apt search git-subrepo
$ sudo apt install git-subrepo
$ man git-subrepo
$ git subrepo ...

